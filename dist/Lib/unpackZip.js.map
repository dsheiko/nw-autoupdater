{"version":3,"sources":["../../Lib/unpackZip.js"],"names":["archiveFile","extractDest","onProgress","unzipper","DecompressZip","Promise","resolve","reject","on","fileIndex","fileCount","extract","path","decompressZip","require","module","exports"],"mappings":";AACA;;;;;;;mCAMA,WAA8BA,WAA9B,EAA2CC,WAA3C,EAAwDC,UAAxD,EAAqE;AACnE,kBAAMC,WAAW,IAAIC,aAAJ,CAAmBJ,WAAnB,CAAjB;AACA,mBAAO,IAAIK,OAAJ,CAAY,UAAEC,OAAF,EAAWC,MAAX,EAAuB;AACtCJ,2BAASK,EAAT,CAAa,OAAb,EAAsBD,MAAtB;;AAEAJ,2BAASK,EAAT,CAAa,SAAb,EAAwBF,OAAxB;;AAEAH,2BAASK,EAAT,CAAa,UAAb,EAAyB,UAAEC,SAAF,EAAaC,SAAb;AAAA,+BAA4BR,WAAYO,YAAY,CAAxB,EAA2BC,SAA3B,CAA5B;AAAA,mBAAzB;;AAEAP,2BAASQ,OAAT,CAAiB;AACbC,8BAAMX;AADO,mBAAjB;AAGH,aAVM,CAAP;AAWD,O;;sBAbcY,a;;;;;;;AAPf,MAAMT,gBAAgBU,QAAS,gBAAT,CAAtB;;AAsBAC,OAAOC,OAAP,GAAiBH,aAAjB","file":"unpackZip.js","sourcesContent":["const DecompressZip = require( \"decompress-zip\" );\r\n/**\r\n * Extract archive into a given directory\r\n * @param {string} archiveFile\r\n * @param {string} extractDest\r\n * @param {function} onProgress\r\n */\r\nasync function decompressZip( archiveFile, extractDest, onProgress ) {\r\n  const unzipper = new DecompressZip( archiveFile );\r\n  return new Promise(( resolve, reject ) => {\r\n      unzipper.on( \"error\", reject );\r\n\r\n      unzipper.on( \"extract\", resolve );\r\n\r\n      unzipper.on( \"progress\", ( fileIndex, fileCount ) => onProgress( fileIndex + 1, fileCount ) );\r\n\r\n      unzipper.extract({\r\n          path: extractDest\r\n      });\r\n  });\r\n}\r\n\r\nmodule.exports = decompressZip;"]}